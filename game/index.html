<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Vue.js modal component example</title>
    <!-- Delete ".min" for console warnings in development -->
    <link rel="stylesheet" type="text/css" href="/assets/css/styles.css" />
    <style>
      button {
        background-color: white;
        border-radius: 5px;
        border: 0.5px solid lightgrey;
      }

      button:hover {box-shadow: 0 1px 1px #999;}
    </style>
  </head>
  <body>
    

    <!-- app -->
    <div id="app">
      <div class="padding-top">
        <div class="container center ">
          <h2>{{ data.result.positive.join(' + ') }} - {{ data.result.negative.join(' - ') }} = ?</h2>
          <br>
          <h2>
            <span v-for="key in data.result.game.options">
              <button style="margin:0.5em;" v-on:click="greet(key, data)">{{ key }} </button>
            </span>
          </h2>
          <p>Tu puntuaciÃ³n <b>{{data.score}}</b>.</p>

        </div>
      </div>
    
    <div class="container center padding-vertical">
      <p>Â¿Necesitas el comodÃ­n del pÃºblico? ðŸ™‚</p>
      <ul class="social-btns">
        <li><a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=El juego del verano por @zenseiapp" data-url="https://zenseiapp.com/?utm_source=landing&utm_medium=twitter&utm_campaign=landing_cta_bottom" data-size="large">Tweet</a></li>
        <li><div class="fb-share-button" data-href="https://zenseiapp.com/game?utm_source=game&utm_medium=facebook&utm_campaign=landing_cta_bottom" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?src=sdkpreparse">Compartir</a></div></li>
        <li id="whatsappButton"><a class="whatsapp-share-button" href="whatsapp://send?text=Â¿Juegas? https://zenseiapp.com/game/?utm_source=game%26utm_medium=whatsapp%26utm_campaign=landing_cta_bottom"><img src="assets/img/whatsapp.svg" alt="Whatsapp">Whatsappear</a></li>
      </ul>
    </div>
    </div>

    <div class="main-footer">
      <div class="container">
        <a class="contact-link" href="mailto:hola@zenseiapp.com">hola@zenseiapp.com</a>
        <ul class="legal-menu">
          <li><a href="politica-cookies.html">PolÃ­tica de cookies</a></li>
          <li><a href="politica-privacidad.html">PolÃ­tica de privacidad</a></li>
          <li><a href="/blog/">Blog</a></li>
        </ul>
      </div>
    </div>

    <div id="fb-root"></div>
    <script type="text/javascript" src="/assets/js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.4/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.4"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <script>

      var link = 'https://shw123y898.execute-api.eu-west-1.amazonaws.com/dev/emojigame?strike=1&game=0';
      
      var data = { 
          result: null,
          score: 0,
          strike: 1,
          response: null
      };

      Vue.http.headers.common['Access-Control-Allow-Origin'] = '*';
      Vue.http.headers.common['Origin'] = 'http://evil.com/';
      Vue.http.headers.common['Content-Type'] = 'application/json';
      Vue.http.options.xhr = { withCredentials : true };
      Vue.http.get(link).then(function(response){
          console.log(response)
          data.result = response.data.result
      }, function(error){
          console.log(error);
      });


      new Vue ({
          el: '#app',
          data: data,
          methods: {
            greet: function (response, data) {
              if(response == data.result.game.answer){
                data.response = response
                data.score = data.score + data.result.game.points
              }else{
                data.response = response
                data.score = data.score - 1
              }

              data.strike += 1
              var link2 = `https://shw123y898.execute-api.eu-west-1.amazonaws.com/dev/emojigame?strike=${data.strike}&game=0`;

              Vue.http.headers.common['Access-Control-Allow-Origin'] = '*';
              Vue.http.headers.common['Origin'] = 'http://evil.com/';
              Vue.http.headers.common['Content-Type'] = 'application/json';
              Vue.http.options.xhr = { withCredentials : true };
              Vue.http.get(link2).then(function(response){
                  data.result = response.data.result
              }, function(error){
                  console.log(error);
              });
            }
          }
      });

    </script>

  </body>
</html>

<!-- /nonessential stylesheets -->
<link href="https://fonts.googleapis.com/css?family=Palanquin+Dark%7CSource+Sans+Pro:400,600,700" rel="stylesheet">